(function(t){function e(e){for(var r,s,i=e[0],o=e[1],u=e[2],d=0,p=[];d<i.length;d++)s=i[d],n[s]&&p.push(n[s][0]),n[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);l&&l(e);while(p.length)p.shift()();return c.push.apply(c,u||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],r=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(r=!1)}r&&(c.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},c=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=o;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0208":function(t,e,a){},1315:function(t,e,a){"use strict";var r=a("0208"),n=a.n(r);n.a},"3eee":function(t,e,a){},"3fe4":function(t,e,a){"use strict";var r=a("46a5"),n=a.n(r);n.a},"46a5":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("CartList")],1),a("div",{staticClass:"column is-9"},[a("ProductList")],1)])])])},c=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box",attrs:{id:"products"}},[t._m(0),a("div",{staticClass:"product-list"},t._l(t.productItems,function(t){return a("div",{key:t.id,staticClass:"product-list-item"},[a("ProductListItem",{attrs:{productItem:t}})],1)}),0),a("div",{staticClass:"product-count has-text-right"},[a("span",{staticClass:"has-text-weight-bold"},[t._v("products: "+t._s(t.productItems.length))])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-header has-text-centered"},[a("i",{staticClass:"fa fa-2x fa-user-circle"})])}],o=a("cebc"),u=a("2f62"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"has-text-centered"},[t._v("\n        "+t._s(t.productItem.title)+"\n        "),a("span",{staticClass:"tag is-primary is-pulled-right has-text-white",on:{click:function(e){t.addCartItem(t.productItem)}}},[t._v("\n            加入购物车\n        ")])]),a("p",[t._v(t._s(t.productItem.description))]),a("span",{staticClass:"has-text-primary has-text-weight-bold"},[a("i",{staticClass:"fa fa-usd"}),t._v(t._s(t.productItem.price)+"\n    ")])])},d=[],p={name:"ProductListItem",props:["productItem"],methods:{addCartItem:function(t){this.$store.dispatch("addCartItem",t)}}},m=p,f=(a("3fe4"),a("2877")),v=Object(f["a"])(m,l,d,!1,null,"7dab6f0c",null);v.options.__file="ProductListItem.vue";var _=v.exports,h={name:"ProductList",computed:Object(o["a"])({},Object(u["c"])(["productItems"])),created:function(){this.$store.dispatch("getProductItems")},components:{ProductListItem:_}},I=h,C=(a("700f"),Object(f["a"])(I,s,i,!1,null,"188455a4",null));C.options.__file="ProductList.vue";var b=C.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"cart"}},[t._m(0),t.cartItems.length?t._e():a("p",{staticClass:"cart-empty-text has-text-centered"},[t._v("添加一些商品到购物车")]),t.cartItems.length>0?a("ul",[t._l(t.cartItems,function(t){return a("li",{key:t.id,staticClass:"cart-item"},[a("CartListItem",{attrs:{cartItem:t}})],1)}),a("div",{staticClass:"cart-details"},[a("p",[t._v("总数量：\n        "),a("span",{staticClass:"has-text-weight-bold"},[t._v(t._s(t.cartQuantity))])]),a("p",{staticClass:"cart-remove-all-text",on:{click:t.removeAllItem}},[a("i",{staticClass:"fa fa-trash"}),t._v("清空购物车\n      ")])])],2):t._e(),a("button",{staticClass:"button is-primary",on:{click:t.alert}},[t._v("结算（\n    "),a("span",{staticClass:"has-text-weight-bold"},[t._v("￥"+t._s(t.cartPrice))]),t._v("）\n  ")])])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart-header has-text-centered"},[a("i",{staticClass:"fa fa-2x fa-shopping-cart"})])}],x=(a("6b54"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"cart-item-title is-inline"},[t._v(t._s(t.cartItem.title))]),a("div",{staticClass:"is-pulled-right"},[a("i",{staticClass:"fa fa-arrow-circle-up cart-item-modify",on:{click:function(e){t.addCartItem(t.cartItem)}}}),a("i",{staticClass:"fa fa-arrow-circle-down cart-item-modify",on:{click:function(e){t.removeItem(t.cartItem)}}})]),a("div",{staticClass:"cart-item-content"},[a("span",{staticClass:"cart-item-price has-text-primary has-text-weight-bold"},[t._v("\n            单价： "+t._s(t.cartItem.price)+"￥\n        ")]),a("span",{staticClass:"cart-item-quantity has-text-grey is-pulled-right"},[t._v("\n            数量： "+t._s(t.cartItem.quantity)+"\n        ")])])])}),P=[],T={name:"CartListItem",props:["cartItem","productItem"],methods:{addCartItem:function(t){this.$store.dispatch("addCartItem",t)},removeItem:function(t){this.$store.dispatch("removeItem",t)}}},A=T,O=(a("dab5"),Object(f["a"])(A,x,P,!1,null,"856f3206",null));O.options.__file="CartListItem.vue";var w=O.exports,j={name:"CartList",computed:Object(o["a"])({},Object(u["c"])(["cartItems","cartQuantity","cartPrice"])),created:function(){this.$store.dispatch("getCarItems")},methods:Object(o["a"])({},Object(u["b"])(["removeAllItem"]),{alert:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){alert("这是写着玩的")})}),components:{CartListItem:w}},L=j,S=(a("1315"),Object(f["a"])(L,g,y,!1,null,"19f015eb",null));S.options.__file="CartList.vue";var E=S.exports,$={name:"app",components:{ProductList:b,CartList:E}},M=$,k=(a("7c55"),Object(f["a"])(M,n,c,!1,null,null,null));k.options.__file="App.vue";var D=k.exports,U=a("bc3a"),R=a.n(U),q={cartItems:[]},Q={UPDATA_CART_ITEMS:function(t,e){t.cartItems=e}},J={getCarItems:function(t){R.a.get("/api/cart").then(function(e){t.commit("UPDATA_CART_ITEMS",e.data)})},removeAllItem:function(t){R.a.post("/api/cart/delete/all").then(function(e){t.commit("UPDATA_CART_ITEMS",e.data)})},addCartItem:function(t,e){R.a.post("/api/cart",e).then(function(e){t.commit("UPDATA_CART_ITEMS",e.data)})},removeItem:function(t,e){R.a.post("/api/cart/delete",e).then(function(e){t.commit("UPDATA_CART_ITEMS",e.data)})}},F={cartItems:function(t){return t.cartItems},cartQuantity:function(t){return t.cartItems.reduce(function(t,e){return e.quantity+t},0)},cartPrice:function(t){return t.cartItems.reduce(function(t,e){return e.price*e.quantity+t},0).toFixed(2)}},z={state:q,mutations:Q,actions:J,getters:F},B=z,G={productItems:[]},H={UPDATA_PRODUCT_ITEMS:function(t,e){t.productItems=e}},K={getProductItems:function(t){var e=t.commit;R.a.get("/api/products").then(function(t){e("UPDATA_PRODUCT_ITEMS",t.data)})}},N={productItems:function(t){return t.productItems}},V={state:G,mutations:H,actions:K,getters:N},W=V;r["a"].use(u["a"]);var X=new u["a"].Store({modules:{cart:B,product:W}});r["a"].config.productionTip=!1,new r["a"]({store:X,render:function(t){return t(D)}}).$mount("#app")},"5c48":function(t,e,a){},"700f":function(t,e,a){"use strict";var r=a("94a8"),n=a.n(r);n.a},"7c55":function(t,e,a){"use strict";var r=a("5c48"),n=a.n(r);n.a},"94a8":function(t,e,a){},dab5:function(t,e,a){"use strict";var r=a("3eee"),n=a.n(r);n.a}});
//# sourceMappingURL=app.40cd6829.js.map